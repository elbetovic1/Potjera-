//---------------------------------------------------------------------------

#include <vcl.h>
#pragma hdrstop

#include "NovoPitanje.h"
#include "pitanja.h"
#include "operacijePitanja.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma resource "*.dfm"
TF_NovoPitanje *F_NovoPitanje;
//---------------------------------------------------------------------------
__fastcall TF_NovoPitanje::TF_NovoPitanje(TComponent* Owner)
	: TForm(Owner)
{
}
//---------------------------------------------------------------------------


void __fastcall TF_NovoPitanje::Button2Click(TObject *Sender)
{
	_di_IXMLpitanjaType pitanja = Getpitanja(XMLDocument1);

	refreshPitanja(pitanja);

}
//---------------------------------------------------------------------------

void __fastcall TF_NovoPitanje::Button1Click(TObject *Sender)
{
	int t;

	if(RadioButton1->Checked){ t = 1;}
	else if (RadioButton2->Checked){t=2;}
	else if (RadioButton3->Checked){t=3;}
	else{ShowMessage("One answer must be selected as the right answer");}

    addPitanja()

	if(Edit1->GetTextLen() != 0 &&  Edit2->GetTextLen() != 0 && Edit3->GetTextLen() != 0 && Edit4->GetTextLen() != 0){

			_di_IXMLpitanjaType pitanja = Getpitanja(XMLDocument1);
			_di_IXMLpitanjeType pitanje = pitanja->Add();

			pitanje->Set_tocan(t);
			pitanje->Set_pit(Edit1->Text);
			pitanje->Set_odg1(Edit2->Text);
			pitanje->Set_odg2(Edit3->Text);
			pitanje->Set_odg3(Edit4->Text);

			XMLDocument1->SaveToFile(XMLDocument1->FileName);
			ShowMessage("You succesfully added a question");

			Edit1->Clear();
			Edit2->Clear();
			Edit3->Clear();
			Edit4->Clear();

	}

	else{
		ShowMessage("All the fields must be filled");
	}
}
//---------------------------------------------------------------------------

